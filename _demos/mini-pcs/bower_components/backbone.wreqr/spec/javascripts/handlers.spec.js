describe("handlers",function(){describe("when adding a handler",function(){var e,t,n,r;beforeEach(function(){e=new Wreqr.Handlers,spyOn(e,"trigger"),r={},n=jasmine.createSpy("a setHandlered handler"),e.setHandler("foo",n,r),t=e.getHandler("foo"),t()}),it("should trigger a handler:add event",function(){expect(e.trigger).toHaveBeenCalledWith("handler:add","foo",n,r)})}),describe("when requesting a handler by name",function(){describe("and a handler has been setHandlered with that name",function(){var e,t,n;beforeEach(function(){var r=new Wreqr.Handlers;n={},t=jasmine.createSpy("a setHandlered handler"),r.setHandler("handler",t,n),e=r.getHandler("handler"),e()}),it("should return the setHandlered handler callback",function(){expect(t).toHaveBeenCalled()}),it("should return the setHandlered handler context",function(){expect(t.mostRecentCall.object).toBe(n)})}),describe("and a handler has not been setHandlered with that name",function(){var e,t;beforeEach(function(){e=new Wreqr.Handlers,t=e.getHandler()}),it("should thrown an error saying a handler was not found",function(){expect(t).toBeUndefined})})}),describe("when removing a named handler",function(){var e,t,n,r;beforeEach(function(){e=new Wreqr.Handlers,n={},t=jasmine.createSpy("a setHandlered handler"),e.setHandler("handler",t,n),e.removeHandler("handler"),r=e.getHandler("handler")}),it("should no longer return the requested hander",function(){expect(r).toBeUndefined})}),describe("when removing all handlers",function(){var e,t,n,r,i;beforeEach(function(){e=new Wreqr.Handlers,n={},t=jasmine.createSpy("a setHandlered handler"),e.setHandler("handler1",t,n),e.setHandler("handler2",t,n),e.removeAllHandlers(),r=e.getHandler("handler1"),i=e.getHandler("handler2")}),it("should no longer return the requested handler",function(){expect(r).toBeUndefined,expect(i).toBeUndefined})})});